<script>
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".sl-markdown-content img").forEach((img) => {
      img.closest("p").classList.add("img-parent");
      img.style.cursor = "pointer";
      img.addEventListener("click", (event) => {
        const overlay = document.createElement("div");
        overlay.style.cssText = `
        background: rgba(0, 0, 0, 0.85);
        display: flex;
        flex-direction: column-reverse;
        position: fixed;
        top: 0; left: 0;
        width: 100vw;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
      `;

        const parentP = img.closest("p");
        parentP.classList.add("targeted-p");

        const fullscreenImg = new Image();
        fullscreenImg.src = event.target.src;
        fullscreenImg.style.cssText = "max-height: 100%; max-width: 90%;";

        // Display Alt Text
        const altText = event.target.alt || "No description available";
        const altTextDiv = document.createElement("div");
        altTextDiv.textContent = altText;
        altTextDiv.style.cssText = `
        color: white;
        background-color: rgba(0, 0, 0, 0.5);
        padding: 5px;
        border-radius: 5px;
        font-size: 1rem;
        max-width: 80%;
        padding-bottom: 1rem
        word-wrap: break-word;
      `;

        overlay.appendChild(fullscreenImg);
        overlay.appendChild(altTextDiv);
        document.body.appendChild(overlay);

        overlay.addEventListener("click", () => {
          overlay.remove();
        });
      });
    });
  });
</script>
