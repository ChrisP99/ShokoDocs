---
title: Configuring Shokofin
sidebar:
  order: 2
Description: Information on how to configure Shokofin to fit your setup.
---

import EasyTable from "../../../components/EasyTable/EasyTable";


With Shokofin installed, there's a couple things that need to be done before it can be used as a metadata provider for
your anime collection. The goal is to get Shokofin configured to your liking in a way so that you don't have to visit
the settings very often once set.

## Connecting to Shoko Server

Before you start using the plugin, it is important to connect it to a running instance of **Shoko Server**. Head over to
Shokofin's plugin settings and provide the private host, username, and password to get that connected.

<EasyTable
  columns={[
    { name: 'Option', header: 'Option', width: '20%'},
    { name: 'Description', header: 'Description' }
  ]}
  data={[
    {
      Option: "Private Host URL",
      Description: "The local IP or hostname that your running **Shoko Server** can be accessed directly from wherever Jellyfin is running."
    },
    {
      Option: "Public Host URL (Optional)",
      Description: "A public IP or hostname that can be used to access **Shoko Server** when the private host URL is not accessible from your browser when accessing Jellyfin. Most commonly used when Jellyfin is accessed outside your network or other complex network setups. If you do not know what any of this means, leave this field empty."
    },
    {
      Option: "Username",
      Description: "The username to your administrator account for Shoko Server."
    }
    ,
    {
      Option: "Password",
      Description: "The password to your administrator account for Shoko Server."
    }
  ]}
/>

After you've established a connection to a running instance of **Shoko Server**, feel free to skim through the plugin
settings detailed below and adjust Shokofin to your liking. If the defaults work just fine, go ahead and skip to
[Creating a Shoko Library.](#creating-a-shoko-library)

## Configuring the Plugin Settings

The following will detail what each setting does and common use cases where necessary. Do note that certain options when
changed will require a library recreation for existing libraries that use Shokofin as a provider and will be indicated
where appropriate. Additional information on the subject can be found in the
[Recommendations and Limitations](/jellyfin-integration/recommendations-and-limitations/#TODO) section of the docs for
Shokofin.

### Metadata Settings

The following settings will allow you to customize what information Shokofin will pull in as metadata for your media
entries. Any changes to these settings will require you to replace all metadata for libraries that use the plugin as a
provider.

<EasyTable
  columns={[
    { name: 'Option', header: 'Option', width: '20%'},
    { name: 'Description', header: 'Description' },
    { name: 'Default', header: 'Default'}
  ]}
  data={[
    {
      Option: "Add prefix to episodes",
      Description: "Add the type and number to the title of non-standard episodes such as specials (e.g. S1, O1, etc.)",
      Default: "&#x2713;"
    },
    {
      Option: "Allow any title in selected language",
      Description: "Allows for alternative titles to be utilized if an official title is not present in the given language. Only applies to AniDB title selectors when using a title override that follows language settings.",
      Default: ""
    },
    {
      Option: "Cleanup AniDB overviews",
      Description: "Prettifies AniDB descriptions to markdown supported by Jellyfin.",
      Default: "&#x2713;"
    },
    {
      Option: "Ignore unverified tags",
      Description: "Don't use any user submitted tags that have not been verified by AniDB.",
      Default: "&#x2713;"
    },
    {
      Option: "Override main/alternate title",
      Description: "Enable to override and prioritize where titles are sourced from between Shoko and available sources.",
      Default: ""
    },
    {
      Option: "Override description source",
      Description: "Enable to override and prioritize where series and episode descriptions are sourced from based on the library's configured language between Shoko and available sources.",
      Default: ""
    },
    {
      Option: "Override tag/genre sources",
      Description: "Enable to override which kinds of tags/genres to use along with their weights and specificity.",
      Default: ""
    },
    {
      Option: "Override content rating sources",
      Description: "Enable to override and prioritize which sources to use when determining media content ratings (TV-G, TV-PG, TV-MA, XXX).",
      Default: ""
    },
    {
      Option: "Override production location sources",
      Description: "Enable to override and prioritize which sources to use when providing info about the media's production location.",
      Default: ""
    },
    {
      Option: "Add Third Party IDs",
      Description: "Enable which third party IDs to provide for other plugins to consume with supported media items.",
      Default: "&#x2713;"
    }
  ]}
/>

### Library Settings

Configure the behavior for how your media will be grouped and displayed within a library. Any changes to these settings
will require you to remove the library in Jellyfin, wait for the library to fully disappear from the Jellyfin homepage,
and create it once again following the instructions at [Creating a Shoko Library.](#creating-a-shoko-library)

<EasyTable
  columns={[
    { name: 'Option', header: 'Option', width: '20%'},
    { name: 'Description', header: 'Description' },
    { name: 'Default', header: 'Default'}
  ]}
  data={[
    {
      Option: "Automatically merge multiple versions of videos",
      Description: "Enable to allow Shokofin to merge alternate versions of the same media into a single displayed entry.",
      Default: "&#x2713;"
    },
    {
      Option: "Use Shoko groups for shows",
      Description: "Enable this to have Shokofin group your media the same way that can be seen in Shoko. This requires grouping to be setup and configured within Shoko itself for this setting to work.",
      Default: ""
    },
    {
      Option: "Separate movies from shows",
      Description: "Enable this to filter out anything that is not a show from a Jellyfin Shows library.",
      Default: ""
    },
    {
      Option: "Filter movie libraries",
      Description: "Enable this to filter out anything that is not a movie from a Jellyfin Movies library.",
      Default: "&#x2713;"
    },
    {
      Option: "Specials placement within seasons",
      Description: "Change this to adjust where specials are placed in their respective season or filter them out entirely.",
      Default: "Always place specials after the normal episodes"
    },
    {
      Option: "Collections",
      Description: "Configure how native Jellyfin collections should be created if at all based on Shoko provided metadata.",
      Default: "Do not create collections"
    },
    {
      Option: "Require two entries for a collection",
      Description: "If collection creation is enabled, only create a collection when the collection will contain at least two items.",
      Default: "&#x2713;"
    },
    {
      Option: "Force movie special features",
      Description: "Append all specials that belong to an AniDB movie series as special features for the movie(s). By default only some specials will be automatically recognized as special features, but by enabling this option you will force all specials to be used as special features. This setting applies to movie series across all library types, and will break movie series that contain specials in a show type library.",
      Default: ""
    },
    {
      Option: "Add trailers",
      Description: "Makes trailers appear as a native feature that Jellyfin can use. This setting is only applicable when using a [VFS](#media-folder-settings) managed library.",
      Default: "&#x2713;"
    },
    {
      Option: "Add credits as theme videos",
      Description: "Make OPs/EDs appear as a native theme video that Jellyfin can use. This setting is only applicable when using a [VFS](#media-folder-settings) managed library.",
      Default: "&#x2713;"
    },
    {
      Option: "Add credits as special features",
      Description: "Make OPs/EDs show up as native special features within Jellyfin. This setting is only applicable when using a [VFS](#media-folder-settings) managed library.",
      Default: ""
    },
    {
      Option: "Add Missing Episodes/Seasons",
      Description: "Add episode/season entries for media that is not currently present in your local collection. Display settings for each Jellyfin user will have to be adjusted to show missing episode information to make use of this feature, otherwise 'empty' seasons will appear within a series if the episodes are not available locally.",
      Default: "&#x2713;"
    },
  ]}
/>

### Media Folder Settings

Configure the behavior for how your media will be treated by Shokofin. Any changes to these settings will require you to 
remove the library in Jellyfin, wait for the library to fully disappear from the Jellyfin homepage, and create it once again following the instructions at [Creating a Shoko Library.](#creating-a-shoko-library)

<EasyTable
  columns={[
    { name: 'Option', header: 'Option', width: '20%'},
    { name: 'Description', header: 'Description' },
    { name: 'Default', header: 'Default'}
  ]}
  data={[
    {
      Option: "Ignored folder names",
      Description: "A comma separated list of folder names to ignore during a library scan. Useful for skipping folders generated by a NAS or other pieces of software that access the file system where media resides.",
      Default: ".streams, @recently-snapshot"
    },
    {
      Option: "Add Release Group to VFS entries",
      Description: "Will add full or short release group names to all automatically linked files in the VFS. 'No Group' will be used if the file is not associated with a release group in Shoko. \n**Warning:** The release group in the file name may change if the release group info is incomplete, unavailable, or otherwise updated in Shoko at a later date. This may cause episode/movie entries to be 'removed' and 'added' as new entries when that happens.  Use at your own risk.",
      Default: ""
    },
    {
      Option: "Add Resolution to VFS entries",
      Description: "Will add the resolution of the media to all automatically linked files in the VFS if available. \n**Warning:** Though rare, we may fail to read the media info in Shoko when the files were first added (e.g. because of a corrupt file, encountering an unsupported new codec, etc.), then reading it later. This may cause episode/movie entries to be 'removed' and 'added' as new entries when that happens. Use at your own risk.",
      Default: ""
    },
    {
      Option: "Configure settings for:",
      Description: "Applicable to the remaining settings in this section. Swap between configuring the defaults of newly created libraries or for any existing libraries.",
      Default: "N/A"
    },
    {
      Option: "Virtual File System (**VFS**)",
      Description: "",
      Default: "&#x2713;"
    },
    {
      Option: "Library Filtering",
      Description: "Choose how Shokofin filters out unrecognized media from your library. Set to Strict to hide all media not yet recognized by Shoko. Set to Lax to allow unrecognized media to appear in the library. Set to Auto to have Shokofin filter out unrecognized media only if no other providers are enabled for the library. Only applies to libraries not using the VFS as VFS manages libraries will always act as though Strict has been set.",
      Default: "Auto"
    },
  ]}
/>

### SignalR

Probably should explain wtf SignalR even is and why someone would want/need it.

##### SignalR Connection

<EasyTable
  columns={[
    { name: 'Option', header: 'Option', width: '20%'},
    { name: 'Description', header: 'Description' }
  ]}
  data={[
    {
      Option: "Status",
      Description: "Shows the current status of the SignalR connection. Will display if SignalR is disabled or enabled and if SignalR is currently connected. SignalR can also be manually connected or disconnected using the button below this indicator."
    },
  ]}
/>

##### SignalR Settings

<EasyTable
  columns={[
    { name: 'Option', header: 'Option', width: '20%'},
    { name: 'Description', header: 'Description' },
    { name: 'Default', header: 'Default'}
  ]}
  data={[
    {
      Option: "Auto Connect On Start",
      Description: "",
      Default: ""
    },
    {
      Option: "Auto Reconnect Intervals:",
      Description: "",
      Default: ""
    },
    {
      Option: "SignalR Event Sources",
      Description: "",
      Default: ""
    },
    {
      Option: "Configure settings for:",
      Description: "Applicable to the remaining settings in this section.",
      Default: ""
    },
    {
      Option: "File Events",
      Description: "",
      Default: ""
    },
    {
      Option: "Metadata Update Events",
      Description: "",
      Default: ""
    },
  ]}
/>

### User Settings

Explain the dropdown and how you can configure settings for each **Jellyfin** user

<EasyTable
  columns={[
    { name: 'Option', header: 'Option', width: '20%'},
    { name: 'Description', header: 'Description' },
    { name: 'Default', header: 'Default'}
  ]}
  data={[
    {
      Option: "Enable synchronization features",
      Description: "",
      Default: ""
    },
    {
      Option: "Sync watch-state on import or refresh",
      Description: "",
      Default: ""
    },
    {
      Option: "Sync watch-state after playback",
      Description: "",
      Default: ""
    },
    {
      Option: "Sync watch-state events during playback",
      Description: "",
      Default: ""
    },
    {
      Option: "Sync watch-state live during playback",
      Description: "",
      Default: ""
    },
    {
      Option: "Lazy sync watch-state events with shoko",
      Description: "",
      Default: ""
    },
    {
      Option: "Sync watch-state for restricted videos",
      Description: "",
      Default: ""
    },
    {
      Option: "Username",
      Description: "",
      Default: ""
    },
    {
      Option: "Password",
      Description: "",
      Default: ""
    },
  ]}
/>


## Creating a Shoko Library

Before creating a library, be sure the plugin is configured to your liking as certain options may require creating a
library from scratch when changed due to how Jellyfin works internally. More information on the subject can be found in
the [Recommendations and Limitations](/jellyfin-integration/recommendations-and-limitations/#TODO) section of the docs
for Shokofin. Creating a new library rather than enabling Shokofin on an existing library is required due to the nature
of how Jellyfin and Shokofin work together.

![Shokofin - Library Dashboard](/src/assets/img/shokofin/Shokofin-Library-Dashboard.png)

Let's get started by adding a new library in Jellyfin's dashboard. All important options that will impact your
experience with Shokofin is detailed as follows:

### Content Type
![Shokofin - Library Settings - Content Type](/src/assets/img/shokofin/Shokofin-Library-Content-Type.png)

The "Shows" type is best for most use cases, as Shokofin will still display anime movies in the library unless
configured to separate movies from shows. If you configured Shokofin to separate movies, you will need to create a
"Movies" library as well as a "Shows" library.

Setting the type to "Mixed Movies and Shows" *will* work, but is not recommended due to quirks within Jellyfin, and with
how Shokofin works as a plugin. Any other library type is otherwise unsupported.

### Folders
![Shokofin - Library Settings - Folders](/src/assets/img/shokofin/Shokofin-Library-Folders.png)

When specifying the media library's file path, be aware that any path you give must point to a directory with the same
contents that Shoko Server sees in it's configured import folder(s).

For example, if Shoko Server knows the import folder for your collection as `C:\ShokoImport\`, and Jellyfin is given a
folder `/mnt/anime`, as long as both directories contain the same things, Shokofin will be able to identify your media.
Pointing Jellyfin to further nested folders seen within Shoko's import folder will also work, such as `/mnt/anime/shows`
and `/mnt/anime/movies` given that both `C:\ShokoImport\shows` and `C:\ShokoImport\movies` also exist.

### Language and Country
![Shokofin - Library Settings - Language and Country](/src/assets/img/shokofin/Shokofin-Library-Lang-and-Country.png)

With Shokofin, setting the preferred download language will not do anything unless a corresponding override was set in
the plugin's [Metadata Settings.](#metadata-settings) If a relevant override is set that makes use of the library's
language preferences, this is the value that will be used for determining the overridden metadata.

Country is not used by Shokofin at this time and can be left unset.

### Embedded Info
![Shokofin - Library Settings - Embedded Info](/src/assets/img/shokofin/Shokofin-Library-Embedded-Info.png)

To prevent any possible clashing with Shokofin's metadata retrieval, leave these two options disabled as it can result
in mixed metadata and other strange behavior.

### Real Time Monitoring
![Shokofin - Library Settings - Real Time Monitoring](/src/assets/img/shokofin/Shokofin-Library-Real-Time-Monitoring.png)

Real time monitoring can be enabled if you desire, which will let Jellyfin listen to file system events for new and
modified files. This option will not do anything however if your file system does not support these events, and is
especially common with network mounts like NFS or SMB shares. As an alternative, Shokofin provides a feature called
SignalR in it's plugin settings which will allow Shokofin to maintain a constant connection to Shoko Server to recieve
and trigger updates for new and updated files/metadata. More information on configuring this feature can be found in the
[SignalR section](#SignalR) of this page.

### Metadata Downloaders
![Shokofin - Library Settings - Metadata Downloaders](/src/assets/img/shokofin/Shokofin-Library-Metadata-Downloaders.png)

When using Shokofin, it is recommended to not enable any other metadata providers for all library types to prevent mixed 
metadata along with a slew of other problems from occurring. This is due to other metadata providers identifying the
media incorrectly or just clashing in general with how your collection is organized.

### Metadata Savers
![Shokofin - Library Settings - Metadata Savers](/src/assets/img/shokofin/Shokofin-Library-Metadata-Savers.png)


:::danger[Important]
    **DO NOT** enable metadata saving using Nfo files with libraries managed by Shoko, and if any are present among
    your media library, **DELETE THEM NOW**. The reasoning behind this is that Jellyfin prioritizes metadata from Nfo
    files above any other metadata provider. This results in weird or broken behavior since Shokofin is unable to
    override metadata that's sourced from an Nfo.
    
    Either find any files in your library that have the `.nfo` extension using your file explorer and delete them, or
    run the following command in a terminal according to your operating system. Be sure to substitute the path with the
    location of your library.

    ###### Windows (Powershell):
    
    ```powershell
    Get-ChildItem -Path 'C:\path\to\library\' '*.nfo' | Remove-Item
    ```

    ###### Linux:
    
    ```sh
    find /path/to/library/ -name "*.nfo" -type f -delete
    ```
:::

### Image Fetchers
![Shokofin - Library Settings - Image Fetchers](/src/assets/img/shokofin/Shokofin-Library-Image-Fetchers.png)

Shoko should be enabled and set as the top-most image fetcher for all library types and categories. Any additional
metadata providers may be enabled, but can have mixed results where incorrect images are fetched. Ones that are
known to work without issue alongside Shokofin are the Embedded Image Extractor and Screen Grabber providers.

### Saving Artwork Into Media Folders
![Shokofin - Library Settings - Saving Artwork](/src/assets/img/shokofin/Shokofin-Library-Saving-Artwork.png)

When using the VFS feature provided by Shokofin, it is recommended to leave this option disabled as the artwork would
end up saved into the symlinked file structure that Shokofin creates within the data directories of Jellyfin. For non
VFS managed libraries, this is not an issue and can be set according to personal preference.

### Merge Series Across Folders
![Shokofin - Library Settings - Merge Series](/src/assets/img/shokofin/Shokofin-Library-Merge-Series.png)

If you are using the VFS feature provided by Shokofin, this only needs to be enabled if multiple folders were added to
the library earlier on in the configuration. For non-VFS managed libraries, it is recommended to enable this no matter
what. Enabling lets Shokofin properly group your media into series that reflect your Shoko library without being limited
by Jellyfin and the media's underlying folder structure.

## Wrapping Up

Once you've confirmed the creation of your library after all that configuration, your library should be well on it's way
with pulling in metadata and getting your library ready for use. This may be a time consuming process, so feel free to
read through the [Shokofin FAQs](/faq#shokofin) or the
[Recommendations and Limitations](/jellyfin-integration/recommendations-and-limitations/) of Shokofin for any other
expectations and useful knowledge when it comes to the plugin.