---
title: Installing Shoko Metadata
description: Information on how to install and configure Shoko Metadata (Plex).
sidebar:
  label: Installing Shoko Metadata
  order: 1
---

import EasyTable from "./src/components/EasyTable/EasyTable";

:::note[Shoko Metadata Prerequisites]
Shoko Metadata is not a standalone plugin and **requires Shoko Server** installed, configured and running.
If you haven't done so, [Download Shoko Server](https://shokoanime.com/downloads/) from our main website and use the
[Installing Shoko Server](../../../getting-started/installing-shoko-server) guide to properly install and configure Shoko Server.
:::

## Installing Shoko Metadata

Shoko Metadata does not come with an installer. Please follow the manual installation instructions below. This guide assumes you've
installed Plex into the default install directory, so make adjustments as needed to fit your installation.

:::tip
Make sure Plex Media Server is stopped before attempting to install the Plugin and Scanners. Otherwise, a restart of
it might be necessary to make the scanner and metadata plugin work and appear in Library settings.
:::

### Windows installation

[Download Shoko Metadata](https://shokoanime.com/downloads/) and extract the zip file. Inside the zip is a folder
labeled **ShokoMetadata.bundle**. <br />Move this folder into the following directory: <code>%LOCALAPPDATA%\Plex Media Server\Plug-ins</code>

Now you need to move the **Movie** and **Series** scanners into the scanner folder.

The **Movie** and **Series** scanners are located in the following directory:

<code>%LOCALAPPDATA%\Plex Media Server\Plug-ins\ShokoMetadata.bundle\Contents\Resources</code><br />

Move both folders into the following directory: <code>%LOCALAPPDATA%\Plex Media Server\Scanners</code>

:::note
If you never installed custom scanners before, you might need to create the folder labeled **Scanners** manually.
:::

Proceed to **Editing Plex Scanners** to make the required edits for the scanners to work.

### Linux installation

First, we will assign an environment variable `$PLEX_HOME` that will point to the base directory for your Plex content.
This will make it easier to follow the guide, regardless of the Plex install method.

Below are the three most common install methods, and what you need to do for each one before you continue with the rest of the guide.

:::caution[Custom installs]
If you installed Plex using another method, then please assign the variable to your own, and make sure to use the correct user when executing the
steps listed below.
:::

##### Bare-metal variable assignemnt

Sign in with **the user responsible for running PMS** (replace `<username>` with the according username) and assign the variable:

```sh
sudo -u <username> -s /bin/sh

export PLEX_HOME="/var/lib/plex/Plex Media Server"
```

:::caution[Check your install location]
Some distributions may install Plex to a different base directory, or if you're running a custom install of Plex,
then either make sure or tweak the above variable to lead to your **Plex Media Server** directory. 
If the above variable is not set correctly, then the guide will fail at the first step.
:::

Continue with [Installation steps](#installation-steps)

##### Snap (plexmediaserver) variable assignment

Sign in as `root` on your host-system and assign the variable:

```sh
sudo -s /bin/sh
export PLEX_HOME="/var/snap/plexmediaserver/common/Library/Application Support/Plex Media Server"
```

Continue with [Installation steps](#installation-steps)

##### Docker (plexinc/pms-docker)

:::caution
This section assumes you're using the official docker image (plexinc/pms-docker). If you're using any other image,
(e.g. linuxserver/plex), then either make sure or tweak the above variable to lead to your **Plex Media Server** directory. 
If the above variable is not set correctly, then the guide will fail at the first step.
:::

Attach to the running **PMS container** (replace `<container name>` accordingly) and and assign the variable:

```sh
docker exec -it <container name> /bin/sh
export PLEX_HOME="/config/Library/Application Support/Plex Media Server"
```

Continue with [Installation steps](#installation-steps)

#### Installation steps

1\. Navigate to the **Plug-ins** directory of your install

```sh
cd "${PLEX_HOME}/Plug-ins";
```

2\. Download and extract the latest bundle from GibHub using **one** of the following commands:

```sh
curl -L https://github.com/Cazzar/ShokoMetadata.bundle/archive/master.tar.gz | tar -xzf -
```

or

```sh
wget -O - https://github.com/Cazzar/ShokoMetadata.bundle/archive/master.tar.gz | tar -xzf -
```

3\. Remove the suffix

```sh
mv ShokoMetadata.bundle-master ShokoMetadata.bundle
```

4\. Ensure that the **Scanners** directory exists in the base directory

```sh
mkdir -p "${PLEX_HOME}/Scanners"
```

5\. Move the scanners into the **Scanners** directory

```sh
cp -R ShokoMetadata.bundle/Contents/Resources/* ../Scanners/
```

Continue to [Editing Plex Scanners/Linux instructions](#editing-plex-scanners-linux-instructions).

## Editing Plex Scanners

With Shoko Metadata installed, you'll need to make a few edits to both the **Series** and **Movies** scanner.

### Windows instructions

**Editing Shoko Movie Scanner**

Navigate to <code>%LOCALAPPDATA%\Plex Media Server\Scanners\Movies</code>

Open **Shoko Movie Scanner.py** in your editor of choice and modify the **Prefs** section to match your Shoko setup. For
most users you'll only need to change the **username** and **password**. As Python is space-sensitive make sure to not
add or remove any spaces.

```py
Prefs = {
    'Hostname': '127.0.0.1',
    'Port': 8111,
    'Username': 'username',
    'Password': 'password',
}
```

**Editing Shoko Series Scanner**

Navigate to <code>%LOCALAPPDATA%\Plex Media Server\Scanners\Series</code>

Open **Shoko Series Scanner.py** in your editor of choice and modify the **Prefs** section to match your Shoko setup.
For most users you'll only need to change the **username** and **password**. As Python is space-sensitive make sure to not add or remove any spaces.

Read [Advanced Settings](#advanced-settings) for the other options.

```py
Prefs = {
    'Hostname': '127.0.0.1',
    'Port': 8111,
    'Username': 'username',
    'Password': 'password',
    'IncludeSpecials': True,
    'IncludeOther': True,
    'SingleSeasonOrdering': False
}
```

After these steps are finished, continue to [Configuring Shoko Metadata](../configuring-shoko-metadata). Don't forget to (re)start Plex Media Server!

### Linux instructions

Edit the `Prefs` section **in each scanner** using your prefered terminal editor so they match with your **Shoko Server** install.

**Movie Scanner**

```sh
${EDITOR:-nano} "${PLEX_HOME}/Scanners/Movies/Shoko Movie Scanner.py"
```

For most users you'll only need to change the **username** and **password**. As Python is space-sensitive make sure to not add or remove any spaces.

```py
Prefs = {
    'Hostname': '127.0.0.1',
    'Port': 8111,
    'Username': 'username',
    'Password': 'password',
}
```

**Series Scanner**

```sh
${EDITOR:-nano} "${PLEX_HOME}/Scanners/Series/Shoko Series Scanner.py"
```

For most users you'll only need to change the **username** and **password**. As Python is space-sensitive make sure to not add or remove any spaces.

Read [Advanced Settings](#advanced-settings) for the other options.

```py
Prefs = {
    'Hostname': '127.0.0.1',
    'Port': 8111,
    'Username': 'username',
    'Password': 'password',
    'IncludeSpecials': True,
    'IncludeOther': True,
    'SingleSeasonOrdering': False
}
```

After these steps are finished, continue to [Configuring Shoko Metadata](../configuring-shoko-metadata). Don't forget to (re)start Plex Media Server!

## Advanced Settings

You'll notice the series scanner has a few more options available than the movie scanner which are detailed below.

<EasyTable
    header={["Option", "Description"]}
    data={[
      [
        "IncludeSpecials", "Files marked as specials in Shoko will be shown in the seires as part of Season 0."
      ],
      [
        "IncludeOther", "Files marked as other in Shoko will be shown in the seires as part of Season 0."
      ],
      [
        "SingleSeasonOrdering", "Episodes are no longer separated by seasons.\n \n" + 
        "All normal episodes are put into Season 1, specials into Season 0, openings/endings into Season -1, and trailers into Season -2."
      ],
    ]}
    columnWidths={{ Option: "25%", Description: "75%" }}
  />